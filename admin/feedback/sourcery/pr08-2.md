Please address the comments from this code review:

## Overall Comments

- This PR is very large and mixes multiple concerns; consider splitting into separate PRs (e.g., template rename, script updates, test restructure) to make review and future rollback easier.
- It would be valuable to add an end-to-end smoke test using BATSâ€™ run command to verify the interactive new-project.sh script still works as expected after these changes.
- Consider adding a migration guide or updating the root README to point existing users at the new standard-project template and docs/maintainers paths.

## Individual Comments

### Comment 1

<location> `tests/unit/file-customization.bats:164-174` </location>
<code_context>

- [ "$status" -eq 0 ]
  +}
- +@test "file_customization: updates package.json if exists" {
- local project_dir="$TEST_TMPDIR/test-package"
- mkdir -p "$project_dir"
- echo '{"name": "old-name", "description": "old description"}' > "$project_dir/package.json"
-
- customize_project "$project_dir" "Regular Project" "New description" "Test Author" "2025-01-27"
-
- local content=$(cat "$project_dir/package.json")
- [["$content" == *"test-package"*]]
- [["$content" == *"New description"*]]
  +}
- </code_context>

<issue_to_address>
**suggestion (testing):** Consider adding a test for package.json with additional fields to ensure only name and description are updated.

Please add a test case with extra fields in package.json and confirm that customize_project only modifies name and description.

```suggestion
@test "file_customization: updates package.json if exists" {
    local project_dir="$TEST_TMPDIR/test-package"
    mkdir -p "$project_dir"
    echo '{"name": "old-name", "description": "old description"}' > "$project_dir/package.json"

    customize_project "$project_dir" "Regular Project" "New description" "Test Author" "2025-01-27"

    local content=$(cat "$project_dir/package.json")
    [[ "$content" == *"test-package"* ]]
    [[ "$content" == *"New description"* ]]
}

@test "file_customization: only updates name and description in package.json with extra fields" {
    local project_dir="$TEST_TMPDIR/test-package-extra"
    mkdir -p "$project_dir"
    echo '{"name": "old-name", "description": "old description", "version": "1.2.3", "license": "MIT", "customField": "should stay"}' > "$project_dir/package.json"

    customize_project "$project_dir" "Extra Project" "Extra description" "Test Author" "2025-01-27"

    local content=$(cat "$project_dir/package.json")
    [[ "$content" == *"Extra Project"* ]]
    [[ "$content" == *"Extra description"* ]]
    [[ "$content" == *'"version": "1.2.3"'* ]]
    [[ "$content" == *'"license": "MIT"'* ]]
    [[ "$content" == *'"customField": "should stay"'* ]]
}
```

</issue_to_address>

### Comment 2

<location> `tests/unit/git-operations.bats:20-33` </location>
<code_context>
+# Git Repository Operations
+# ============================================================================

- +@test "git_operations: initializes git repository successfully" {
- local project_dir="$TEST_TMPDIR/test-git"
- mkdir -p "$project_dir"
- echo "test file" > "$project_dir/test.txt"
-
- if ! command -v git &> /dev/null; then
-        skip "Git not available"
- fi
-
- run init_git_repo "$project_dir" "Test Author"
-
- [ "$status" -eq 0 ]
- [ -d "$project_dir/.git" ]
  +}
- </code_context>

<issue_to_address>
**suggestion (testing):** Suggestion: Add a test for git initialization failure (e.g., git not installed or permission denied).

Explicitly test error handling for cases where git initialization fails, such as missing git or permission issues, to verify the function responds appropriately.

```suggestion
@test "git_operations: initializes git repository successfully" {
    local project_dir="$TEST_TMPDIR/test-git"
    mkdir -p "$project_dir"
    echo "test file" > "$project_dir/test.txt"

    if ! command -v git &> /dev/null; then
        skip "Git not available"
    fi

    run init_git_repo "$project_dir" "Test Author"

    [ "$status" -eq 0 ]
    [ -d "$project_dir/.git" ]
}

@test "git_operations: fails when git is not installed" {
    local project_dir="$TEST_TMPDIR/test-git-missing"
    mkdir -p "$project_dir"
    echo "test file" > "$project_dir/test.txt"

    # Temporarily override PATH to simulate missing git
    local old_path="$PATH"
    export PATH="/nonexistent:$PATH"

    run init_git_repo "$project_dir" "Test Author"

    [ "$status" -ne 0 ]
    [[ "$output" == *"git: command not found"* || "$output" == *"not found"* ]]

    export PATH="$old_path"
}

@test "git_operations: fails with permission denied" {
    local project_dir="$TEST_TMPDIR/test-git-permission"
    mkdir -p "$project_dir"
    echo "test file" > "$project_dir/test.txt"

    chmod -w "$project_dir"

    run init_git_repo "$project_dir" "Test Author"

    [ "$status" -ne 0 ]
    [[ "$output" == *"Permission denied"* || "$output" == *"could not create"* ]]

    chmod +w "$project_dir"
}
```

</issue_to_address>

### Comment 3

<location> `tests/unit/path-expansion.bats:61-67` </location>
<code_context>

- [ "$output" = "$PWD/test" ]
  +}
- +@test "path_expansion: handles mixed variables" {
- run expand_env_vars "\$HOME/\$USER/\${PWD}/test"
- [ "$status" -eq 0 ]
- [ "$output" = "$HOME/$USER/$PWD/test" ]
  +}
- </code_context>

<issue_to_address>
**suggestion (testing):** Suggestion: Add a test for invalid or undefined environment variables in path expansion.

Add a test case with an undefined or invalid environment variable in the path to verify expand_env_vars handles such inputs correctly.

```suggestion
@test "path_expansion: handles mixed variables" {
    run expand_env_vars "\$HOME/\$USER/\${PWD}/test"
    [ "$status" -eq 0 ]
    [ "$output" = "$HOME/$USER/$PWD/test" ]
}

@test "path_expansion: handles undefined environment variables" {
    run expand_env_vars "\$UNDEFINED_VAR/test"
    [ "$status" -eq 0 ]
    [ "$output" = "\$UNDEFINED_VAR/test" ]
}

@test "path_expansion: handles partially invalid variables" {
    run expand_env_vars "\${NOT_DEFINED}/foo"
    [ "$status" -eq 0 ]
    [ "$output" = "\${NOT_DEFINED}/foo" ]
}
```

</issue_to_address>

### Comment 4

<location> `tests/unit/user-experience.bats:57-63` </location>
<code_context>

- [["$output" == *"stage0-fundamentals"*]]
  +}
- +@test "user_experience: displays regular project specific instructions" {
- local project_dir="$TEST_TMPDIR/test-regular"
- mkdir -p "$project_dir"
-
- run show_next_steps "$project_dir" "Regular Project"
-
- [["$output" == *"admin/planning"*]] || [["$output" == *"project management"*]]
  +}
- </code_context>

<issue_to_address>
**issue (testing):** Issue: Test still checks for 'admin/planning' which is deprecated; update to 'docs/maintainers/planning'.

Update the test to check for 'docs/maintainers/planning' instead of the deprecated 'admin/planning' path to match the new documentation structure.
</issue_to_address>

### Comment 5

<location> `tests/unit/github-auth.bats:20-24` </location>
<code_context>
+# GitHub Authentication
+# ============================================================================

- +@test "github_auth: returns error when gh CLI not installed" {
- mock_gh "not_installed"
-
- run verify_github_auth "testuser"
- [ "$status" -ne 0 ]
  +}
- </code_context>

<issue_to_address>
**suggestion (testing):** Suggestion: Add a test for gh CLI installed but not executable (e.g., permission denied).

Please add a test case where the gh CLI is present but lacks execute permissions, ensuring verify_github_auth handles this scenario correctly.

Suggested implementation:

```shell
@test "github_auth: returns error when gh CLI not installed" {
    mock_gh "not_installed"

    run verify_github_auth "testuser"
    [ "$status" -ne 0 ]
}

@test "github_auth: returns error when gh CLI is present but not executable" {
    mock_gh "not_executable"

    run verify_github_auth "testuser"
    [ "$status" -ne 0 ]
}

```

Make sure your `mock_gh` helper in `helpers.bash` supports the "not_executable" scenario, e.g., by creating a dummy `gh` file without execute permissions.
</issue_to_address>
